<!doctype html><html lang=en-us>
<head>
<title>Building a motion rig for Sim-racing // Ramblings about all things technical</title>
<link rel="shortcut icon" href=https://jamesclonk.io/favicon.ico>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.86.1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Fabio Berchtold">
<meta name=description content="How to build a DIY motion rig for sim-racing">
<link rel=stylesheet href=https://blog.jamesclonk.io/css/main.min.9bba7fde0750c7bda25f057fa3c3b60a9bc8a01eca8636633114e4a19d3d4b43.css>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Building a motion rig for Sim-racing">
<meta name=twitter:description content="How to build a DIY motion rig for sim-racing">
<meta property="og:title" content="Building a motion rig for Sim-racing">
<meta property="og:description" content="How to build a DIY motion rig for sim-racing">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.jamesclonk.io/posts/building-a-simracing-rig/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2018-11-27T15:56:39+02:00">
<meta property="article:modified_time" content="2018-11-27T15:56:39+02:00">
</head>
<body>
<header class=app-header>
<a href=https://blog.jamesclonk.io/><img class=app-header-avatar src=/images/fabio_berchtold.jpg alt="Fabio Berchtold"></a>
<h1>Ramblings about all things technical</h1>
<nav class=app-header-menu>
<a class=app-header-menu-item href=/>Home</a>
-
<a class=app-header-menu-item href=/tags/>Tags</a>
-
<a class=app-header-menu-item href=/about/>About</a>
</nav>
<p>Working with tech is fun!</p>
<div class=app-header-social>
<a href=https://github.com/JamesClonk target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
</div>
</header>
<main class=app-container>
<article class=post>
<header class=post-header>
<h1 class=post-title>Building a motion rig for Sim-racing</h1>
<div class=post-meta>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-user"><title>user</title><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
Fabio Berchtold
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Nov 27, 2018
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
4 min read
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a class=tag href=/tags/simracing/>simracing</a>
<a class=tag href=/tags/iracing/>iracing</a>
<a class=tag href=/tags/diy/>diy</a>
<a class=tag href=/tags/simulator/>simulator</a>
</div>
</div>
</header>
<div class=post-content>
<h2 id=what-is-sim-racing>What is Sim-racing?</h2>
<p>Sim-racing is short for <em>&ldquo;simulated racing&rdquo;</em>. Basically it means you are using racing simulator software to try and simulate real world racing as accurately as possible. This includes all the real-world variables such as fuel usage, damage to the car, tire wear, grip, suspension settings, etc., which is unlike the more well-known arcade racing games like Forza Motorsport or Gran Turismo. The goal is to provide the most realistic depiction of real world racing as much as possible. Sim-racing software on PC is often times accompanied by special purpose hardware, like steering wheels, pedals, <em>&ldquo;rigs&rdquo;</em> with bucket seats, triple-screen monitor setups or Virtual Reality headsets, bass-shakers, etc.</p>
<p>The most common sim-racing titles are:</p>
<ul>
<li><a href=https://en.wikipedia.org/wiki/IRacing>iRacing</a></li>
<li><a href=https://en.wikipedia.org/wiki/Assetto_Corsa>Assetto Corsa</a></li>
<li><a href=https://en.wikipedia.org/wiki/RFactor_2>rFactor 2</a></li>
<li><a href=https://en.wikipedia.org/wiki/RaceRoom>RaceRoom</a></li>
</ul>
<h2 id=iracing>iRacing</h2>
<p>To quote from iRacings website:</p>
<blockquote>
<p><em>iRacing is the leading sim-racing game for your PC. Developed as a centralized racing and competition service, iRacing organizes, hosts and officiates online racing on virtual tracks all around the world. In the fast-paced world of eSports, iRacing is a one-stop-shop for online racing. We utilize the latest technologies to recreate our ever-expanding lineup of famed race cars and tracks from the comfort of your home. Simulate what a professional NASCAR driver experiences inside the seat of a stock car, or a Grand Prix driver sees over the dash. All of the details add up to a lineup of cars and tracks that are virtually indistinguishable from the real thing. This creates unmatched immersion when sim racers take the green flag in our online racing simulator. Although iRacing is an online racing simulator at heart, the value as a training tool is just as real. The best sim racers in the world compete on iRacing and you can watch the race broadcasts live on the iRacing eSports Network.</em></p>
</blockquote>
<p><a href=https://www.iracing.com/>iRacing</a> is probably my favourite out of all the sim-racing software out there, thanks to its fantastic online component. It is entirely focused on competitive online racing in various championship series and leagues. One of the many great things about it is that due to its simulation accuracy it very popular especially among racing enthusiasts and also attracts a lot of actual real world drivers to the service. It is not uncommon to see the likes of Max Verstappen or Lando Norris appearing in these races, both of them being fans of iRacing.</p>
<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden>
<iframe src=https://www.youtube.com/embed/aK2-nlfnPys style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe>
</div>
<h2 id=and-a-motion-rig>And a motion rig?</h2>
<p><a href=https://opensfx.com/>https://opensfx.com/</a></p>
<p><a href=https://github.com/SimFeedback/SimFeedback-AC-Servo>https://github.com/SimFeedback/SimFeedback-AC-Servo</a></p>
<p><a href=https://github.com/JamesClonk/simracing-rig>https://github.com/JamesClonk/simracing-rig</a></p>
<p><a href=https://imgur.com/a/8NfyycK>https://imgur.com/a/8NfyycK</a></p>
<h3 id=simfeedback>SimFeedback</h3>
<p>The software used to control the servos and motors is called <a href=https://github.com/SimFeedback/SimFeedback-AC-Servo>SimFeedback</a>, written by the same person who open-sourced the OpenSFX100 plans in the first place.</p>
<p><img src=/images/simfeedback.png alt=SimFeedback></p>
<h3 id=telemetry-data-is-not-working>Telemetry data is not working?</h3>
<p>Oh no, what&rsquo;s wrong?!</p>
<p>After I finally got everything up and running I discovered a major problem. You see, iRacing has 2 different output modes for telemetry data. It is a memory-mapped file that refreshes provides data in either 60hz mode (the default) or in an increased 360hz mode (providing more accurate, albeit somewhat interpolated data). The problem I discovered though was that the majority of my software that I already was using to read telemetry data and do useful things with it, like <a href="https://www.youtube.com/watch?v=7fEaeoBWdHo">simulating wind / air flow via Arduino-controlled fans</a> or control <a href=https://thebuttkicker.com/buttkicker-lfe/>bass-shakers</a> to simulate vibrations and road texture, was operating in 60hz mode only. The iRacing plugin provided by SimFeedback on the other hand was expecting 360hz telemetry input and you can only use either one of these modes in iRacing, not both at the same time! ðŸ˜±</p>
<p>Good thing I know my way around software a bit, more or less anyway.
It was time to dig into the source code of SimFeedback or rather its plugin interface. Having never before worked with C# this turned out to be quite the adventure, having to learn my way around an entirely new language just for the sake of writing a 60hz telemetry plugin for myself might sound a bit like overkill. ðŸ˜‚</p>
<p>In the end though I figured out what was needed and managed to create the <a href=https://github.com/JamesClonk/iR60TelemetryProvider>iR60 Telemetry Provider</a> plugin and put it on GitHub to let everybody else profit from my work too. (As it turns out a lot of people use 60hz mode given that it&rsquo;s iRacings default)</p>
<p>Now I could finally hook up all my gadgets and get back to actual racing on track.</p>
<h2 id=the-result>The result</h2>
<p>Here you can see the final thing in action:
<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden>
<iframe src=https://www.youtube.com/embed/M1Aam-OnV7w style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe>
</div>
</p>
</div>
<div class=post-footer>
</div>
</article>
</main>
</body>
</html>